---------------------------------------按　　鈕---------------------------------------

#前台
	BRT即時狀態(1)
		即時狀態(2)
		號誌控制邏輯(3)

	控制設備資訊(4)
		AVI(5)
		號誌控制器(6)
		觸發站(7)
		車輛偵測器(8)
		DSRC(9)
		GPS(10)

	排程(11)
		路口參數(12)
		路口排程(13)

	BRT績效(14)
	事故顯示(15)

#後台
	(*)系統帳號管理(16)
	(*)歷史資料查詢(17)
	(*)路口設備管理(18)
	(*)事故建立(19)

---------------------------------------功能解說---------------------------------------

(1)
	點擊後顯示(2)按鈕的內容，並且該選單展開。

(2)
	內頁需要顯示物件有
		路段
			所有路段的經緯度繪圖資料

		巴士站
			所有巴士站的經緯度位置
			快捷巴士最近的通過時間
			快捷巴士預期下一班的到站時間

		巴士車
			所有BRT巴士的顯示經緯度資料
			車速
			車牌
			目前路口
			預期到達巴士站時間
			預期到達路口時間

		路口設備
			共同資料
				設備經緯度位置
				是否故障
				歷史資料(最近的上筆的資料,使用時間依據來查詢)

			號誌控制器
				當前步階
				時相名稱
				剩餘秒數
				號誌周期
				路段方向
				(*)可點選即時切換優先號誌(優先權小於路口手動操作)
				(*)可點選即時切換步階(優先權小於路口手動操作)

		底部的簡圖
			顯示設備資訊(依照上方滑鼠點選選設備類型切換顯示資訊內容)

(3)
	左側日曆時間(底下資訊欄)
		切換上方顯示的資料日期時間依據(提供歷史查詢功能)

	時空圖(底下資訊欄)
		提供 IMG URL

(4)
	左側設備勾選依據來決定右方地圖該顯示那些設備

	路口設備(部分資料與即時狀態重複)
		共同資料
			設備經緯度位置
			是否故障
			歷史資料(最近的上筆的資料,使用時間依據來查詢)

		號誌控制器
			當前步階
			時相名稱
			剩餘秒數
			號誌周期
			路段方向

		AVI
			車輛編號(車牌?)
			路口(路口編號)
			時間

		CCTV
			影像Strean URL

		VD
			流量
			速度
			日期時間

		觸發點
			P1(是否觸發)
			P2(是否觸發)
			P3(是否觸發)
			P4(是否觸發)
			日期時間
			車牌

(5)~(10)
	略

(11)
	排程展開

(12) - 計畫規劃
	規劃 Segtype { plan_id,time,phase_id,....... }

(13) - 計畫規劃
	規劃路口啟動優先號誌的排程、顯示路口手操

(14)
	路段
		所有路段的經緯度繪圖資料
		所有路段的績效值(平均車流、速度、旅行時間), 影響路段的繪圖顏色

(15)
	路段
		所有路段的經緯度繪圖資料

	巴士站
		所有巴士站的經緯度位置
		快捷巴士最近的通過時間
		快捷巴士預期下一班的到站時間

	事故標示
		經緯度資料
		事故原因
		事故通報來源

(16)
	系統管理員可以增加其下使用者之帳號與管理權限

(17)
	歷史資訊查詢，查詢過去 "一段時間" 內之優先策略時間、次數、類型等資料並以圖表方式顯示，並提供列印功能

(18)
	新增、管理路口資訊與該路口的設備資訊

(19)
	根據通報建立事故標示、來源、類型等，並提供事故顯示功能資訊

---------------------------------------權限規則---------------------------------------

無登入
	僅觀看資訊

工作人員登入
	僅觀看資訊
	可以啟動優先號誌、步階、路口排程、事故建立

管理者登入
	僅觀看資訊
	可以啟動優先號誌、步階、路口排程、事故建立
	系統帳號管理
	新增路口、設備

------------------------------------資料規劃(未完)------------------------------------

users:Table {
	id:int
	name:string
	permission_level:int
	email:string
	phone:string
}

# master device & transport & roadsection & station table (或許可以拆分類物件表 + 鍵值表)
object_tables:Table {
	id:int
	lcn:int
	name:string
	type:string
	lat:float					<-- if type is transport set null
	lng:float					<-- if type is transport set null
	url:string					<-- if type is CCTV set Video Stream URL
	car_number:string
}

# one to one (誌控制器,AVI,CCTV,VD,觸發點)
devices_data_now {
	id:int
	lcn:int
	name:string
	status:string
	light_step:int
	direction:string
	second_remainning
	circle:int
	priority_flag:int
	data_time:datetime
	type:string
	p1:int
	p2:int
	p3:int
	p4:int
}

# one to one (誌控制器,AVI,CCTV,VD,觸發點)
devices_data_history {
	id:int
	lcn:int
	name:string
	status:string
	light_step:int
	direction:string
	second_remainning
	circle:int
	priority_flag:int
	data_time:datetime
	type:string
	p1:int
	p2:int
	p3:int
	p4:int
}

# one to many (誌控制器,AVI,CCTV,VD,觸發點)
devices_data_1m~Nm {
	id:int
	lcn:int
	name:string
	status:string
	light_step:int
	direction:string
	second_remainning
	circle:int
	priority_flag:int
	data_time:datetime
	p1:int
	p2:int
	p3:int
	p4:int
}

# one to many
transport_data_Nm {
	id:int
	car_number:string
	lat:float
	lnt:float
	status:string
	next_station:string					<-- maybe this property use by object_id that will be better.
	next_stattion_travel_time:int
	data_time:datetime
}

# one to many
statiton_data_Nm {
	id:int
	station_id:int
	status:string
	near_bus:string
	near_bus_traveltime:int
	data_time:datetime
}

# TOW
segtype_tables {
	id:int	
}

# TOD
tod_tables {
	id:int
}

# SPCD
spcday_tables {
	id:int
}

